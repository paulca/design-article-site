<h1>Mobile App Design: Getting to the point Part 2:  Building a small eCommerce site.</h1>


  <p>Following on from my earlier article, I want to put into practice the principles that I isolated by looking at GMail, Twitter and Facebook. I&#8217;ll apply the principles to one of the most common of web applications: the online store. I want to look at three typical online store pages and then go through some ideas about how best to apply mobile-design principles to the pages.</p>

  <p>I want to go through the process of building the site from the group up... from simple sketches through wireframing and the final deisgn.</p>
  
  <p>I&#8217;ve used <a href="http://www.mobiforge.com/designing/blog/240x320-new-standard-screen-resolution">240&#215;360</a> as a guide screen size while mocking this up. Because of the massive range of mobile device sizes out there, it can become impractical to support every single screen size out there. 240&#215;360 strikes the perfect balance of practicality and the assurance that your site will look good on the majority of mobile handsets. It&#8217;s important to note here that compared to modern desktop screen sizes, this is tiny, around one tenth of the usual available size. The image below illustrates just how much smaller this actually is:</p>


	<p><img src="screen-size.png" alt="mobile screen sizes are tiny compared with the traditional desktop." /></p>



<h2>Step 1: Sketches</h2>

<p>I start with some simple paper-wireframes to sketch out an idea of where things will be. I want to design three pages common to eCommerce stores. </p>

  <p><img src="browse.jpg" alt="" /></p>
	<p>First up is an eCommerce browsing page. The browse page is probably one of the first pages that a visitor to an online store will hit. It&#8217;s probably one of the links off the home page, and it will contain a sub-section of editorial content relevent to a theme or category. Just as with desktop sites, it's common and important to include strong branding on a mobile site. It shouldn't take up too much space, but a simple logo at the top of the page works great.</p>
	
	<p>The browse page serves a variety of functions in an eCommerce context. For the navigation, it's important to provide a sense of location, so simple breadcrumbs telling the customer where they are come next. Search comes next and then some listings, some with images, some as links to other sections.</p>
	
	<p>Notice how the main navigation on the site is all the way at the bottom. It's important to display the most important things first on a mobile site, and extra navigation elements should be left to the bottom. Finally, an option to view the full version of the site is always useful as not everyone will necessarily want the mobile version, or there may be features on the full site that don't translate well to mobile.</p>

  <p><img src="search.jpg" alt="" /></p>
	<p>Next I've sketched out a sample search results page. Search is probably the most often-used feature of an online store. This page should be useful and efficient at moving the customer along to where they want to go. Some information at the top of the page to show the customer where they are is all that's necessary before displaying the results of their search. Any pagination is greatly simplified, and extra nav is still down the bottom.</p>

  <p><img src="view.jpg" alt="" /></p>
	<p>Finally, I've sketched out the item view page. Viewing an item is the point at which the customer reviews an item and adds it to their cart. Again, this page is all about focussing on the most important bits. The title is displayed prominently, closely followed by an image, author price and the crucial &#8216;add to basket&#8217; option. Notice here how search is moved to the bottom of the page. Search is still relevent and useful, but it's not the most important function any more while we're viewing item details, so we get it out of the way.</p>

  <p>These sketches were prepared using the classic tools of web design: pen and paper. For those interested, I used an "edding 1200" marker pen. Some UI designers recommend <a href="http://www.37signals.com/svn/posts/466-sketching-with-a-sharpie">using a sharpie</a> for wireframes, while others <a href="http://404uxd.com/2008/02/28/the-fine-art-of-wireframes">use fineliners</a>. I find something in between is just right!</p>

	<h2>Step 2: Wireframes</h2>
	
  <p>Now that I have a basic outline of how my three pages are going to look, it's time to refine these into <a href="http://www.contrast.ie/blog/the-path-of-increasing-fidelity/">higher fidelity</a> representations of what our final mobile site will looklike.</p>
  
  <p><img src="browse.png" alt="Browse wireframe" /></p>
	<p>The browse page was pretty much nailed in the sketch. The priority of the elements is spot on and the main wireframe just tightens things up. We decided to swap the simple navigation with the search box. Search is probably the first thing that a customer to an eCommerce site will want to use. Just like how Twitter display their update field before anything else on their mobile site, search comes first here.</p>

  <p><img src="search.png" alt="Search wireframe" /></p>
	<p>Reflecting on the search page, the single most important thing is the results, so they should be given the highest priority. Any subsidiary elements, such as the search field itself, do just fine below the results. We have kept a one liner that tells the customer what they searched for and how many results there were, although this could be further simplified if desired.</p>

  <p><img src="view.png" alt="View wireframe" /></p>
	<p>On the view screen, we just tidy up a few elements to get a better sense of how they'll be positioned.</p>


	
	
<p>And that's that. Wireframes ready to ship to our designer! We used <a href="http://www.omnigroup.com/applications/OmniGraffle/">OmniGraffle</a> to prepare these. <a href="http://www.omnigroup.com/applications/OmniGraffle/">Microsoft Visio</a> is good if you're on a PC, or you could skip this step and go straight to...</p>



	<h3>Step 3: Basic <span class="caps">HTML</span></h3>


	<p>The beauty of mobile sites is that we don&#8217;t need to learn a new technology to implement them. Because the name of the game is simplicity, the markup to produce great looking sites can and should be very simple. In addition, most of the devices on the market today fully support <span class="caps">CSS</span>, so making sites that are not only mobile-friendly, but aesthetically pleasing is simpler than ever.</p>

	<p>The first thing to sort out when building a site for mobile is the document type. <a href="http://en.wikipedia.org/wiki/XHTML_Mobile_Profile">This wikipedia article</a> has a good explanation of the different doctypes and their justifications. I chose version 1.2, making my page header look like:</p>
  
  <blockquote><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//WAPFORUM//DTD XHTML Mobile 1.2//EN&quot; &quot;http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</pre></blockquote>

<p>I find the <a href="http://users.skynet.be/mgueury/mozilla/">HTML Validator</a> plugin for Firefox invaluable while working with HTML. The extension displays a small red X in the status bar of your browser if your page doesn't validate. You may need to check out <a href="http://mobiforge.com/forum/developing/mobile-development/url-not-supported-version-error-doctype">Ruadhan's tip</a> for getting it to work with the mobile doctype. <a href="http://wapreview.com/blog/?p=184">This post on WAPreview</a> also includes some useful information for working with HTML for mobile.</p>

<p>The process of transferring the wireframes to well-formed, semantic HTML is the same as if it was a regular old desktop-browser based site. One thing to bear in mind is that you don't really have very much horizontal space to play with. Going with a fixed with layout for a mobile device isn't really practical because screen sizes vary so much, so a fluid design is preferable. This means that the order that elements are placed in the HTML can more closely relate to the order they appear on the site, which makes things a lot easier to manage.</p>

<p>In constructing the pages, I used very simple html, highlighting the important elements and using a h1, h2 and h3 heading structure for headings and titles.</p>

<p><img src="browse-nocss.png" alt="Browse screen without CSS" /></p>
<blockquote><pre>&lt;div id=&quot;products&quot;&gt;
  &lt;h3&gt;&lt;a href=&quot;view.html&quot;&gt;The Secret&lt;/a&gt;&lt;/h3&gt;
  &lt;span class=&quot;author&quot;&gt;by &lt;a href=&quot;#&quot;&gt;Dwayne Johnson&lt;/a&gt;&lt;/span&gt;
  &lt;span class=&quot;price&quot;&gt;&amp;euro;8.99&lt;/span&gt;

  &lt;hr/&gt;

  &lt;h3&gt;&lt;a href=&quot;view.html&quot;&gt;For whom the bell tolls&lt;/a&gt;&lt;/h3&gt;
  &lt;span class=&quot;author&quot;&gt;by &lt;a href=&quot;#&quot;&gt;Kirk Chandlund&lt;/a&gt;&lt;/span&gt;
  &lt;span class=&quot;price&quot;&gt;&amp;euro;12.00&lt;/span&gt;...</pre></blockquote>

<p><img src="search-nocss.png" alt="Search screen without CSS" /></p>
<blockquote><pre>&lt;h1&gt;BookStore Online&lt;/h1&gt;
    
&lt;hr/&gt;

&lt;p id=&quot;results-summary&quot;&gt;Search for &quot;Red Arrow&quot; (11 results)&lt;/p&gt;

&lt;hr/&gt;

&lt;div id=&quot;results&quot;&gt;
  &lt;h3 class=&quot;book&quot;&gt;&lt;a href=&quot;view.html&quot;&gt;Red arrow at nightfall&lt;/a&gt;&lt;/h3&gt;
  &lt;span class=&quot;author&quot;&gt;by &lt;a href=&quot;#&quot;&gt;Michael Johnson&lt;/a&gt;&lt;/span&gt;
  &lt;span class=&quot;price&quot;&gt;&amp;euro;8.99&lt;/span&gt;
  
  &lt;hr/&gt;...</pre></blockquote>

<p><img src="view-nocss.png" alt="View screen without CSS" /></p>
<blockquote><pre>&lt;div id=&quot;main&quot;&gt;
  &lt;h2&gt;The Long Tail&lt;/h2&gt;
  &lt;p class=&quot;author&quot;&gt;by &lt;a href=&quot;#&quot;&gt;Chris Anderson&lt;/a&gt;&lt;/p&gt;
  &lt;div class=&quot;image&quot;&gt;
    &lt;img src=&quot;images/long_tail.jpg&quot; width=&quot;60&quot; height=&quot;85&quot; alt=&quot;The Long Tail&quot;&gt;&lt;/img&gt;
  &lt;/div&gt;
  &lt;div class=&quot;purchase&quot;&gt;
    &lt;p id=&quot;price&quot;&gt;&amp;euro;16.99 &lt;span id=&quot;stock&quot; class=&quot;in-stock&quot;&gt;In stock&lt;/span&gt;&lt;/p&gt;
    &lt;p&gt;&lt;a class=&quot;buy-now&quot; href=&quot;#&quot;&gt;Buy now&lt;/a&gt;&lt;/p&gt;
  &lt;/div&gt;
  &lt;div id=&quot;details&quot;&gt;
    &lt;h3&gt;Summary&lt;/h3&gt;
    &lt;p id=&quot;summary&quot;&gt;This fascinating walk through the modern market place exposes many myths in today&#x27;s economy and preaches the benefits of tightly focussed offerings rather than large faceless brands.&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></blockquote>

<p>It's worth noting at this stage that the HTML-only version of the site is perfectly passable, and not too unattractive implementation of the three pages. If you're on a budget, or feel like being pragmatic, now's the time to push the site live and start taking orders!</p>

<h3><span class="caps">Step 4: CSS</span></h3>

<p>Mobile-based sites can reach the next level with some CSS and javascript. Nokia's N95 for example sports a fully CSS-compliant Webkit based browser. It renders CSS beautifully, but it's a pain to side scroll through sites designed for larger screens. With a lick of CSS with a mobile device in mind, the browser really shines.</p>

<p>If you're not doing any mobile browser detection (using something like dotMobi's <a href="http://www.deviceatlas.com">DeviceAtlas</a>) then a quick way to add support for a mobile device to your site without changing any html is to use the CSS media="handheld". For example:</p>

<blockquote><pre>&lt;link href=&quot;/stylesheets/main.css&quot; media=&quot;handheld&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</pre></blockquote>

<p>While not universally supported, it gives you a quick win to ensure that if a device supports your CSS stylesheet, it will display that one.</p>

<p>CSS is best used to provide better visual separation between the elements on the page, and to fit more on the screen. There is some scope for lining things up horizontally on a mobile screen, and where possible it can be used to ensure that the most efficient use is made of screen real estate. Of course, if you have a flair for design, smart use of CSS will give you a chance to make the site visually appealing, in line with your brand. Not to mention a mobile site that will stand out from the crowd.</p>

<p>Here's how the site looks with a gloss of CSS:</p>

<p><img src="browse-css.png" alt="Browse screen without CSS" /></p>
<p>By using colours and rules, we can visually separate the different elements on the browse page.</p>

<p><img src="browse-css-1.png" alt="Browse screen without CSS" /></p>

<p><img src="search-css.png" alt="Search screen without CSS" /></p>
<p>The search screen continues along the same lines of the browse page, providing a consistent look and feel within the site.</p>

<p><img src="view-css.png" alt="View screen without CSS" /></p>
<p>The view item screen neatly takes combines the layout from the wireframes with the markup from our previous step.</p>

<p>Check out the full CSS stylesheet <a href="http://github.com/paulca/design-article-site/tree/master/stylesheets/main.css">here</a>.</p>

<h3><span class="caps">Step 5: Javascript</span></h3>

<p>One message that I'd like to send home is that it's perfectly fine to use javascript to spruce up a mobile version of a site. You should however pay special attention to gracefully degrade any javascript you include. Using javascript, with or without Ajax, to avoid page refreshes over oft-dodgy EDGE and 3G networks is an effective technique for providing a great user experience on your mobile site.</p>

<p>I normally recommend <a href="http://www.jquery.com">jQuery</a> as a fast, efficient cross-browser javascript library. The compacted version is 54k, and 15k if you gzip it, which is a bit of a hit for mobile browsers, but the code that you need to write is so compact on top of that. 54k isn't a whole lot to sacrifice in page load time. Google also provide a <a href="http://code.google.com/apis/ajaxlibs/">hosted service</a> for jQuery and other javascript libraries that you can use for super-fast download times. However, use it with caution: there are cases when page load times over 10k will degrade user experience. Your productivity will be higher, but proceed with caution.</p>

<p>For the purposes of our sample app, I'm going to use a simple unobtrusive javascript technique to add support for showing and hiding the full details on our item view page. Here's the javascript:</p>

<blockquote><pre>window.onload = function(){ //load this when the page loads
    
  //set up swap variables
  var summary = document.getElementById(&#x27;summary&#x27;) 
  var long_summary = summary.innerHTML + &#x27; &lt;a href=&quot;#&quot; onclick=&quot;swap_full_summary();return false;&quot;&gt;...less&lt;/a&gt;&#x27;
  var short_summary = summary.innerHTML.substr(0,100) + &#x27;...&#x27; + &#x27; &lt;a href=&quot;#&quot; onclick=&quot;swap_full_summary();return false;&quot;&gt;full details...&lt;/a&gt;&#x27;
  var body = document.getElementById(&#x27;view-page&#x27;)

  //do the swap
  swap_full_summary = function(){
  if(summary.innerHTML == long_summary)
    {
      summary.innerHTML = short_summary
    }
    else
    {
      summary.innerHTML = long_summary
    }
  }
  summary.innerHTML = short_summary
}</pre></blockquote>

<p>The last step of the puzzle is to run the site through <a href="http://ready.mobi">Ready.mobi</a>. This will help give you a sense of how good your site will look on a mobile. I missed a few small things, such as a closing &lt;/a&gt; tag and not including a &lt;fieldset&gt; tag in the search form. These things may seem rather pedantic, but ensuring that your page validates against Ready.mobi is a good way to ensure that there are no upsets to users on certain devices and also to test against any caveats that you may have missed. It's a free service, there's no excuse not to use it.</p>

<p>All the HTML, CSS and Javascript for this article was prepared using <a href="http://macromates.com/">TextMate</a>, but any good text editor will do!</p>

<p>The sample mockups that accompany this article all get a score of 5 (Good) on Ready.mobi. There are a few warnings, but these I can live with for the sake of my site. I've covered all of the major factors in .mobi compliance. The important thing is to get a balance of functionality with as much compliance as possible. You can check out the compliance for the three pages here. <a href="http://ready.mobi/results.jsp?uri=http%3A%2F%2Fdotmobi.rslw.com%2Fbrowse.html&amp;locale=en_EN">Browse</a>, <a href="http://ready.mobi/results.jsp?uri=http%3A%2F%2Fdotmobi.rslw.com%2Fsearch.html&amp;locale=en_EN">Search</a> and <a href="http://ready.mobi/results.jsp?uri=http%3A%2F%2Fdotmobi.rslw.com%2Fview.html&amp;locale=en_EN">View</a></p>

<h2>And finally: ship it!</h2>

<p>My final message is this: design for mobile devices is not as hard as it might seem at first. Using a few simple techniques, and following a few simple rules, taking a cue from exemplars such as Google, Facebook and Twitter, attractive, useful mobile sites and be put together fast and efficiently. Here are some pointers to take away:
<ul>
  <li>Sketch things out first, focusing on prioritising the important elements</li>
  <li>Keep your code clean and simple, that way it will translate well to mobile devices</li>
  <li>Use javascript wisely and responsibly</li>
  <li>Use HTML validators and Ready.mobi to ensure your code and site are standards compliant</li>
</ul>
</p>

<p>If you want to use any of the code from this article as a starting point, you can <a href="http://mobiforge.rslw.com">view the sample site</a> or <a href="http://github.com/paulca/design-article-site/tree/master">check out the source code on Github</a>.</p>